'use strict';

function select(a, u) {
  if (ADMIN) return a;
  return u;
}

var ImageViewer = new Component("<div id='image_viewer'>\n    <div class=\"modal-backdrop fade show\"></div>\n    <div id='image_viewer_content'>\n\n        <p></p>\n\n        <button class=\"close image_viewer_close\" onclick=\"Renderer.close_image_view_window()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n\n        <p></p>\n\n        <button id='viewer_prev' class='btn btn-warning img-viewer-nav'><i class=\"fas fa-angle-left\"></i></button>\n        <!-- img main -->\n        <div id=\"image_main\" style='background-image: url(\"{% active >> media %}\")'>\n        </div>\n\n        <button id='viewer_next' class='btn btn-warning img-viewer-nav'><i class=\"fas fa-angle-right\"></i></button>\n\n\n        <!-- icons -->\n        <div id='image_icons'>\n            {$ for image_icon of icons $}\n                <div style='background-image: url(\"{% image_icon >> min %}\")'\n                     class='bulk_item img-icon {$ if active == image_icon $} active {$ endif $} '></div>\n            {$ endfor $}\n\n        <div>\n        </div>\n    </div>\n</div>");
CManager.register(ImageViewer, "ImageViewer", UNIVERSAL);
var SelectDropdown = new Component("<select data-role='item-category'\n     data-item_id='{% item.id %}'\n     class='form-control mr-sm-2 text-form-trackable'>\n\n     {$ for category of Object.values(CATS) $}\n\n         {$ if category == selected $}\n             <option selected='selected'> {% category %} </option>\n        {$ else $}\n             <option> {% category %} </option>\n         {$ endif $}\n     {$ endfor $}\n\n    </select>");
CManager.register(SelectDropdown, "SelectDropdown", UNIVERSAL);
var ThreeDots = new Component("<div style='display: inline-block' class=\"dropdown three-dots\">\n      <button class=\"three-dots-btn\"\n              type=\"button\"\n              id=\"dropdownMenuButton\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\">\n        <i class=\"fas fa-ellipsis-v px-1\" style='font-size: 15px;'></i>\n      </button>\n\n      <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n        <div class=\"dropdown-item\" data-item_id='{% item.id %}'\n             data-subcat_idx='{% subcat_idx %}'\n             data-role='cart-action'\n             data-checked='{% subcat.fav %}'\n             onclick='edit_favourite({% item.id %}, {% subcat_idx %})'>\n\n             {$ if subcat.fav $}\n                <span>\u0423\u0431\u0440\u0430\u0442\u044C \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B</span><i style=\"margin-left: 4px; color: gray\" class=\"fas fa-trash-alt\"></i>\n             {$ else $}\n                <span>\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443</span><i style=\"margin-left: 2px; color: gray\" class=\"fas fa-shopping-cart\"></i>\n             {$ endif $}\n\n        </div>\n\n        <div class=\"dropdown-item\" onclick='OrderForm.open({% item.id %}, {% subcat_idx %})'>\n            <span>\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C</span><i style='margin-left: 5px; color: gray' class=\"fas fa-money-check\"></i>\n        </div>\n      </div>\n    </div>");
CManager.register(ThreeDots, "ThreeDots", UNIVERSAL);
var AdminSubcat = new Component("<tr data-subcat_id='{% subcat_idx %}'\n        data-item_id='{% item.id %}'\n        data-role='subcat_entry'>\n\n        <td title=\"\u041A\u043E\u0434\">\n        <input data-subcat_id='{% subcat_idx %}'\n               data-item_id='{% item.id %}'\n               data-role='subcat_code'\n               class='text-form-trackable edit-form input-int'\n               value='{% subcat.code || DEF_BLANK_VAL_TEXT %}'>\n        </td>\n\n        <td title=\"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\">\n            <input data-subcat_id='{% subcat_idx %}'\n                   data-item_id='{% item.id %}'\n                   data-role='subcat_param'\n                   class='text-form-trackable edit-form input-text'\n                   value='{% subcat.param || DEF_BLANK_VAL_TEXT %}'>\n        </td>\n\n        <td title=\"\u0426\u0435\u043D\u0430\">\n            <span class='nowrap'>\n                <input data-subcat_id='{% subcat_idx %}'\n                       data-item_id='{% item.id %}'\n                       data-role='subcat_price'\n                       class='text-form-trackable edit-form input-int'\n\n                       value='{% subcat.price || DEF_BLANK_VAL_NUM %}'>\n            </span>\n        </td>\n\n        <td title=\"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E\">\n            <span class='nowrap'>\n                <input data-subcat_id='{% subcat_idx %}'\n                       data-item_id='{% item.id %}'\n                       data-role='subcat_amount'\n                       class='text-form-trackable edit-form input-int'\n                       value={% subcat.amount || 0 %}>\n            </span>\n        </td>\n\n        <td title=\"\u0423\u0434\u0430\u043B\u0438\u0442\u044C\">\n            <button class='btn btn-danger'\n                    onclick='delete_subcat({% item.id %}, {% subcat_idx %})'>\n                    {% LANG.delete %}\n            </button>\n        </td>\n    </tr>\n    ");
var UserSubcat = new Component("\n    <tr class='{$ if subcat.fav $} fav {$ endif $}'\n         data-subcat_id='{% subcat_idx %}'\n         data-item_id='{% item.id %}'\n         data-role='subcat_entry'>\n\n        <td title=\"\u041A\u043E\u0434\">\n            {% subcat.code || DEF_BLANK_VAL_TEXT %}\n        </td>\n\n        <td title=\"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\">\n            {% subcat.param || DEF_BLANK_VAL_TEXT %}\n        </td>\n\n        <td title=\"\u0426\u0435\u043D\u0430\">\n            <span class='nowrap'>\n                {% subcat.price || '?' %} \u0433\u0440\u043D.\n            </span>\n        </td>\n\n        <!--\n        <td>\n            <span class='nowrap'>\n                {% subcat.amount || '?' %} \u0448\u0442.\n            </span>\n        </td>\n        -->\n\n        <td title=\"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F\"\n            style='position: relative; padding-left: 0; padding-right: 0;'>\n            {$ let subcat_idx = subcat.subcat_id $}\n            {% include ThreeDots %}\n        </td>\n    </tr>");
var Subcategory = select(AdminSubcat, UserSubcat);
CManager.register(Subcategory, "Subcategory", UNIVERSAL);
var SubcatTable = new Component("<div class=''>\n        <table border=\"0\"\n               data-subcat_table='{% item.id %}'\n               style='width: 100%'>\n            <tbody>\n                {$ for subcat_idx, subcat of item.subcats >> enumerate $}\n                    {% include Subcategory %}\n                {$ endfor $}\n            </tbody>\n        </table>\n    </div>");
CManager.register(SubcatTable, "SubcatTable", UNIVERSAL);
var AdminImage = new Component("\n    {$ let uniqueid = uuid() $}\n    {$ if temp $}\n\n            {$ let reader  = new FileReader(); $}\n\n            {%\n                reader.onloadend = () =>\n                jQuery(\"img[data-item_id='{% item.id %}'][data-uuid-promise='{% uniqueid %}']\").attr(\"src\", reader.result).removeAttr('data-uuid-promise');\n            %}\n\n            reader.readAsDataURL(file);\n        {$ endif $}\n    <img src='{$ if temp $} placeholder {$ else $} {% file >> media %} {$ endif $}'\n          class='adm-img {$ if temp $} temp_image {$ endif $}'\n          data-item_id='{% item.id %}'\n          data-role='illustration'\n\n          {$ if !temp $}\n            id='{% file %}'\n          {$ endif $}\n\n          {$ if temp $}\n              data-uuid-promise='{% uniqueid %}'\n              onclick=handle_image_click(this)\n          {$ endif $}>\n    ");
CManager.register(AdminImage, "AdminImage", UNIVERSAL);
var AdminImageBulk = new Component("<div data-item_id='{% item.id %}'\n          data-role='image_bulk'\n          class='image_bulk'>\n\n         {$ for file of item.photo_paths $}\n            {$ let temp = false $}\n            {% include AdminImage %}\n         {$ endfor $}\n\n    </div>\n\n    <button class='btn btn-danger mt-1'\n            data-item_id='{% item.id %}'\n            data-role='delete_images'\n            style='display:none'\n            onclick='delete_selected_photos({% item.id %})'>\n    </button>\n      ");
var UserImageBulk = new Component("<div data-item_id='{% item.id %}'\n          data-role='image_bulk'\n          class='image_bulk'>\n\n        {$ for path of item.photo_paths $}\n\n            {$ let side = (Math.min(200,(jQuery(\"#table-container\").width()-item.photo_paths.length*40)/item.photo_paths.length))||200 $}\n\n\n            <img loading=\"lazy\" class='bulk_item'\n                 style='width: {% side %}px; height: {% side %}px;'\n                 src=\"{% path >> min %}\");\n                 data-role='image_icon'\n                 data-path='{% path %}'\n                 onclick='handle_image_click(this)'>\n        {$ endfor $}\n\n    </div>");
var ImageBulk = select(AdminImageBulk, UserImageBulk);
CManager.register(ImageBulk, "ImageBulk", UNIVERSAL);
var MonoFrame = new Component("<table class='table table-bordered table-stripped'>\n\n        <thead class='thead thead-dark'>\n            <tr>\n                {$ if ADMIN $}\n                    <th>\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435</th>\n                    <th>\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435</th>\n                    <th>\u0424\u043E\u0442\u043E</th>\n                    <th>\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0438</th>\n                    <th>\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435</th>\n                    <th>\u0423\u0434\u0430\u043B\u0438\u0442\u044C</th>\n                {$ else $}\n                    <th>\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435</th>\n                    <th>\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435</th>\n                    <th>\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435</th>\n                    <th>\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0438</th>\n                {$ endif $}\n            </tr>\n        </thead>\n\n        <tbody id='mono-table'>\n        </tbody>\n    </table>");
CManager.register(MonoFrame, "MonoFrame", UNIVERSAL);
var FavouriteItem = new Component("<table class='table table-bordered'>\n        <thead class='thead thead-dark'>\n            <tr>\n                <th colspan='3'>\n                    {% item.name %}\n                </th>\n            </tr>\n        </thead>\n\n        <tbody>\n            <tr>\n                <td colspan='2'>\n                    <table>\n                        {$ let subcat_idx = item.subcat_id $}\n                        {$ let subcat = item $}\n                        {% include Subcategory %}\n                    </table>\n                </td>\n                <td> {% item.description || DEF_BLANK_VAL_TEXT %}</td>\n            </tr>\n\n            <tr>\n                <td colspan='3'>\n                    <button class='btn btn-warning btn-lg'\n                            onclick=\"OrderForm.open({% item.id %}, {% item.subcat_id %})\">\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C</button>\n\n                    <a class='btn btn-warning btn-lg nowrap'\n                       onclick='PageActions.open_in_new_window(\"/item/{% item.id %}\")'> \u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0432 \u043D\u043E\u0432\u043E\u043C \u043E\u043A\u043D\u0435\n                    </a>\n                </td>\n            </tr>\n        </tbody>\n    </table>");
CManager.register(FavouriteItem, "FavouriteItem", UNIVERSAL);
var Spinner = new Component("\n    <div class=\"spinnerComponent\" style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%);\">\n    <div class=\"spinner-border text-primary\" role=\"status\">\n    <span class=\"sr-only\">Loading...</span>\n    </div>\n    </div>\n    ");
CManager.register(Spinner, "Spinner", UNIVERSAL);
var FavouriteTableDesktop = new Component(" <div class='scrollable'>\n        <div id='fav-items-cont'>\n\n            {$ if fav_items.length == 0$}\n                <p style='text-align: center; color: white;'>\n                    \u0412\u0430\u0448\u0430 \u043A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430\u044F.\n                </p>\n            {$ endif $}\n\n            {$ for item of fav_items $}\n\n                {% include FavouriteItem %}\n            {$ endfor $}\n\n        </div>\n\n        <div class='flex'>\n          <div onclick='Renderer.close_fav_table()'\n              id='collapse_fav_tab'>\n              <i class=\"fas fa-angle-up\"></i>\n          </div>\n       </div>\n   </div>\n    ");
CManager.register(FavouriteTableDesktop, "FavouriteTable", DESKTOP_ONLY);
var MainFrameDesktop = new Component("<div class=\"flex\"><p id='empty-query-banner'></p></div>\n    <div id=\"table-container\" class='body-main-content'>\n    <!-- to be filled with JS -->\n    </div>");
CManager.register(MainFrameDesktop, "MainFrame", DESKTOP_ONLY);
var AdminFrameEntryDesktop = new Component("<tr data-item_id='{% item.id %}'\n         data-role='main_item_data'>\n\n        <td>\n            <textarea rows='1'\n                      data-role='item-name'\n                      data-item_id='{% item.id %}'\n                      style='overflow:hidden'\n                      class='edit-form input-text text-form-trackable'>\n                      {% item.name %}\n            </textarea>\n        </td>\n\n        <td colspan=0>\n            {% include SubcatTable %}\n\n            <button class='btn btn-success btn-lg btn-block'\n                    style='margin-top: 10px'\n                    onclick='add_empty_subcat({% item.id %})'>\n                        {% LANG.add %}\n            </button>\n        </td>\n\n        <td>\n            {$ let selected = item.category $}\n            {% include SelectDropdown %}\n        </td>\n\n        <td>\n            <textarea rows='1'\n                      data-role='item-description'\n                      data-item_id='{% item.id %}'\n                      style='overflow:hidden'\n                      class='auto-adjust edit-form input-text text-form-trackable'>\n                      {% item.description || DEF_BLANK_VAL_TEXT %}\n            </textarea>\n        </td>\n\n        <td>\n            <textarea rows='1'\n                      data-role='item-condition'\n                      data-item_id='{% item.id %}'\n                      style='overflow:hidden'\n                      class='auto-adjust edit-form input-text text-form-trackable'>\n                      {% item.condition || DEF_BLANK_VAL_TEXT %}\n            </textarea>\n        </td>\n\n       <td data-item_id={% item.id %}\n           data-role=\"item-manipulation\">\n\n            <button class='btn btn-danger'\n                    onclick=AdminNetworker.delete_item('{% item.id %}')>\n                    {% LANG.delete %}\n            </button>\n\n            <hr>\n        </td>\n    </tr>\n\n    <tr data-item_id='{% item.id %}' data-role='photo_item_data'>\n        <td colspan='7'>\n        {% include ImageBulk %}\n        <hr>\n        <label for='{% \"edit-file-\"+item.id %}' class='btn btn-success'>\n            {% LANG.add %}\n        </label>\n\n            <form data-item_id='{% item.id %}' data-role='add_files_form'>\n                <input type='file'\n                       data-item_id='{% item.id %}'\n                       data-role='add_files_input'\n                       multiple='multiple'\n                       class='hidden'\n                       name='photo'\n                       id='{% \"edit-file-\"+item.id %}'>\n            </form>\n        </td>\n    </tr>");
var UserFrameEntryDesktop = new Component("<tr>\n        <td title=\"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435\" style=\"font-weight: 600; width: 25%\">\n            <a class='link' href='/item/{% item.id %}'>\n                {% item.name %}\n            </a>\n            <br>\n            <a class='link small-text' onclick='PageActions.open_in_new_window(\"/item/{% item.id %}\")'>\n                \u0412 \u043D\u043E\u0432\u043E\u0439 \u0432\u043A\u043B\u0430\u0434\u043A\u0435\n            </a>\n            <br>\n            <button class='mt-4 btn btn-dark'\n                    onclick='OrderForm.open({% item.id %})'>\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C</button>\n        </td>\n\n        <td title=\"\u041F\u043E\u0434\u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438\" style=\"width: 40%\">\n            {% include SubcatTable %}\n        </td>\n\n        <td title=\"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435\" class='p-3' style=\"width: 10%\">\n            \u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 {% item.condition || DEF_BLANK_VAL_TEXT %}\n        </td>\n\n        <td class='p-4'> {% item.description || DEF_BLANK_VAL_TEXT %} </td>\n    </tr>\n\n    <tr photo-row' style=\"width: 25%\">\n        <td title=\"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F\" colspan='4'>\n            {% include ImageBulk %}\n        </td>\n    </tr>");
var FrameEntryDesktop = select(AdminFrameEntryDesktop, UserFrameEntryDesktop);
CManager.register(FrameEntryDesktop, "FrameEntry", DESKTOP_ONLY);
var CategoryFrameDesktop = new Component("\n    <div class='flex body-main-content'><h3 class='mb-4'>{% category %}</h3></div>\n    <div class='body-main-content' >\n    <table class='table table-bordered table-stripped'>\n\n        <thead class='thead thead-dark'>\n            <tr>\n             {$ if ADMIN $}\n                 <th>{% LANG.name %}</th>\n                 <th>{% LANG.cats %}</th>\n                 <th>{% LANG.category %}</th>\n                 <th>{% LANG.desc %}</th>\n                 <th>{% LANG.cond %}</th>\n                 <th>{% LANG.delete %}</th>\n             {$ else $}\n                 <th>{% LANG.name %}</th>\n                 <th>{% LANG.cats %}</th>\n                 <th>{% LANG.cond %}</th>\n                 <th>{% LANG.desc %}</th>\n             {$ endif $}\n            </tr>\n        </thead>\n\n        <tbody data-category='{% category %}' data-role=\"category-frame\">\n        </tbody>\n        </table>\n        </div>");
CManager.register(CategoryFrameDesktop, "CategoryFrame", DESKTOP_ONLY);
var CategoryFrameMobile = new Component("<div data-category='{% category %}' data-role=\"category-frame\" class='flex'>\n        <div class='flex'><h3 class='mb-4'>{% category %}</h3><div>\n    </div>");
CManager.register(CategoryFrameMobile, "CategoryFrame", MOBILE_ONLY);
var AdminFrameEntryMobile = new Component("<tr data-item_id='{% item.id %}'\n         data-role='main_item_data'>\n\n        <td>\n            <textarea rows='1'\n                      data-role='item-name'\n                      data-item_id='{% item.id %}'\n                      style='overflow:hidden'\n                      class='edit-form input-text text-form-trackable'>\n                      {% item.name %}\n            </textarea>\n        </td>\n\n        <td colspan=0>\n            {% include SubcatTable %}\n\n            <button class='btn btn-success btn-lg btn-block'\n                    style='margin-top: 10px'\n                    onclick='add_empty_subcat({% item.id %})'>\n                        {% LANG.add %}\n            </button>\n        </td>\n\n        <td>\n            {$ let selected = item.category $}\n            {% include SelectDropdown %}\n        </td>\n\n        <td>\n            <textarea rows='1'\n                      data-role='item-description'\n                      data-item_id='{% item.id %}'\n                      style='overflow:hidden'\n                      class='auto-adjust edit-form input-text text-form-trackable'>\n                      {% item.description || DEF_BLANK_VAL_TEXT %}\n            </textarea>\n        </td>\n\n        <td>\n            <textarea rows='1'\n                      data-role='item-condition'\n                      data-item_id='{% item.id %}'\n                      style='overflow:hidden'\n                      class='auto-adjust edit-form input-text text-form-trackable'>\n                      {% item.condition || DEF_BLANK_VAL_TEXT %}\n            </textarea>\n        </td>\n\n       <td data-item_id={% item.id %}\n           data-role=\"item-manipulation\">\n\n            <button class='btn btn-danger'\n                    onclick=AdminNetworker.delete_item('{% item.id %}')>\n                    {% LANG.delete %}\n            </button>\n\n            <hr>\n        </td>\n    </tr>\n\n    <tr data-item_id='{% item.id %}' data-role='photo_item_data'>\n        <td colspan='7'>\n        {% include ImageBulk %}\n        <hr>\n        <label for='{% \"edit-file-\"+item.id %}' class='btn btn-success'>\n            {% LANG.add %}\n        </label>\n\n            <form data-item_id='{% item.id %}' data-role='add_files_form'>\n                <input type='file'\n                       data-item_id='{% item.id %}'\n                       data-role='add_files_input'\n                       multiple='multiple'\n                       class='hidden'\n                       name='photo'\n                       id='{% \"edit-file-\"+item.id %}'>\n            </form>\n        </td>\n    </tr>", "AdminFrameEntry");
var UserFrameEntryMobile = new Component("<table class='table table-bordered'>\n\n        <thead class='thead-dark'>\n            <tr>\n                <th>\n                    <p style='display: inline-block; margin: 0;'>\n                        <a style='font-size: 20px; color: white;' class=''>{% item.name %}</a>\n                    </p>\n                    <p class='subtitle m-0' onclick='PageActions.open_in_new_window(\"/item/{% item.id %}\")'>\n                        \u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0432 \u043D\u043E\u0432\u043E\u043C \u043E\u043A\u043D\u0435\n                    </p>\n                </th>\n            </tr>\n        </thead>\n\n        <tbody>\n        {$ if item.description $}\n            <tr>\n                <td style='color: gray; padding: 1vh 4vw 1vh 4vw; font-weight: 100; font-size: small;'>\n                    {% item.description || DEF_BLANK_VAL_TEXT %}\n                </td>\n            </tr>\n        {$ endif $}\n\n            {$ if item.photo_paths.length $}\n                <tr>\n                    <td class='flex'>\n                        {% include ImageBulk %}\n                    </td>\n                </tr>\n            {$ endif $}\n\n            <tr>\n                <td>\n                    {% include SubcatTable %}\n                </td>\n            </tr>\n\n            {$ if item.condition $}\n                <tr>\n                    <td>\n                        \u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:<br>\n                        {% item.condition %}\n                    </td>\n                </tr>\n            {$ endif $}\n        </tbody>\n\n    </table>", "UserFrameEntry");
var FrameEntryMobile = select(AdminFrameEntryMobile, UserFrameEntryMobile);
CManager.register(FrameEntryMobile, "FrameEntry", MOBILE_ONLY);
var MainFrameMobile = new Component("<div class=\"flex\"><p id='empty-query-banner'></p></div>\n    <div id=\"table-container\" class='body-main-content'>\n    <!-- to be filled with JS -->\n    </div>", "MainFrame");
CManager.register(MainFrameMobile, "MainFrame", MOBILE_ONLY);
var FavouriteTableMobile = new Component("<div class='scrollable'>\n        <div id='fav-items-cont'></div>\n\n        {$ if fav_items.length == 0 $}\n            <p style='text-align: center; color: white;'>\n                \u0412\u0430\u0448\u0430 \u043A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430\u044F.\n            </p>\n\n        {$ else $}\n            <div id='fav-items-cont'>\n\n            {$ for item of fav_items $}\n                <table class='table table-bordered'>\n                    <thead class='thead thead-dark'>\n                        <tr>\n                            <th colspan='2'>\n                                {% item.name %}\n                            </th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        <tr>\n                            <td colspan='2'>\n                                <table style=\"width: 100%\">\n                                    {$ let subcat = item $}\n                                    {% include Subcategory %}\n                                </table>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td>\n                                <button class='btn btn-warning btn-block'\n                                        onclick=\"OrderForm.open({% item.id %}, {% item.subcat_id %})\">\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C</button>\n                            </td>\n                            <td>\n                                <a class='btn btn-warning btn-block nowrap'\n                                   onclick='PageActions.open_in_new_window(\"/item/{% item.id %}\")'>\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0432 \u043D\u043E\u0432\u043E\u043C \u043E\u043A\u043D\u0435</a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            {$ endfor $}\n\n            </div>\n        {$ endif $}\n\n        <div class='flex'>\n            <div onclick='Renderer.close_fav_table()'\n               id='collapse_fav_tab'>\n               <i class=\"fas fa-angle-up\"></i>\n            </div>\n        </div>\n\n      </div>", "FavouriteTable");
CManager.register(FavouriteTableMobile, "FavouriteTable", MOBILE_ONLY);
